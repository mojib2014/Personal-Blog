{"ast":null,"code":"var _jsxFileName = \"/Users/mojib2014/Desktop/projects/node_projects/blog/client/src/Profile/showmessages.js\",\n    _s = $RefreshSig$();\n\nimport React, { useContext, useState, useEffect } from \"react\";\nimport Context from \"../utils/context\";\nimport { Link } from \"react-router-dom\";\nimport axios from \"axios\";\nimport history from \"../utils/history\";\nimport Table from \"@material-ui/core/Table\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport TableHead from \"@material-ui/core/TableHead\";\nimport TableRow from \"@material-ui/core/TableRow\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst ShowMessages = props => {\n  _s();\n\n  const context = useContext(Context);\n  const [messages, setMessages] = useState([]);\n  useEffect(() => {\n    const username = context.dbProfileState[0].username;\n    axios.get(\"/api/get/usermessages\", {\n      params: {\n        username: username\n      }\n    }).then(res => setMessages([...res.data])).catch(function (error) {\n      console.log(error);\n    });\n  }, []); //eslint-disable-line\n\n  const RenderMessages = props => /*#__PURE__*/_jsxDEV(TableRow, {\n    children: /*#__PURE__*/_jsxDEV(TableCell, {\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\" \", /*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"From: \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 35,\n          columnNumber: 11\n        }, this), \" \", props.message.message_sender, \" \"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 33,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\" \", /*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"Title \"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 39,\n          columnNumber: 11\n        }, this), \" \", props.message.message_title, \" \"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \" Message:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 42,\n          columnNumber: 11\n        }, this), \" \", props.message.message_body, \" \"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n        children: [\" \", props.message.date_created, \" \"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 45,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Link, {\n        to: {\n          pathname: \"/replytomessage\",\n          state: {\n            props\n          }\n        },\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          children: \"Reply\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => DeleteMessage(props.message.mid),\n        children: [\" \", \"Delete\", \" \"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => history.goBack(),\n        children: \" Cancel \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 31,\n    columnNumber: 5\n  }, this);\n\n  const DeleteMessage = mid => {\n    axios.delete(\"/api/delete/usermessage\", {\n      data: {\n        mid: mid\n      }\n    }).then(res => console.log(res)).catch(function (error) {\n      console.log(error);\n    }).then(() => setTimeout(function () {\n      history.replace(\"/\");\n    }, 700));\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"FlexRow\",\n      children: /*#__PURE__*/_jsxDEV(Table, {\n        children: [/*#__PURE__*/_jsxDEV(TableHead, {\n          children: /*#__PURE__*/_jsxDEV(TableRow, {\n            children: /*#__PURE__*/_jsxDEV(TableCell, {\n              children: [\" \", /*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \" Messages \"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 82,\n                columnNumber: 17\n              }, this), \" \"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 80,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 79,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(TableBody, {\n          children: messages ? messages.map(message => /*#__PURE__*/_jsxDEV(RenderMessages, {\n            message: message\n          }, message.mid, false, {\n            fileName: _jsxFileName,\n            lineNumber: 89,\n            columnNumber: 19\n          }, this)) : null\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 75,\n    columnNumber: 5\n  }, this);\n};\n\n_s(ShowMessages, \"MpPdziavV6MZXMvIEjafauVmabw=\");\n\n_c = ShowMessages;\nexport default ShowMessages;\n\nvar _c;\n\n$RefreshReg$(_c, \"ShowMessages\");","map":{"version":3,"sources":["/Users/mojib2014/Desktop/projects/node_projects/blog/client/src/Profile/showmessages.js"],"names":["React","useContext","useState","useEffect","Context","Link","axios","history","Table","TableBody","TableCell","TableHead","TableRow","ShowMessages","props","context","messages","setMessages","username","dbProfileState","get","params","then","res","data","catch","error","console","log","RenderMessages","message","message_sender","message_title","message_body","date_created","pathname","state","DeleteMessage","mid","goBack","delete","setTimeout","replace","map"],"mappings":"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","sourcesContent":["import React, { useContext, useState, useEffect } from \"react\";\nimport Context from \"../utils/context\";\n\nimport { Link } from \"react-router-dom\";\n\nimport axios from \"axios\";\nimport history from \"../utils/history\";\n\nimport Table from \"@material-ui/core/Table\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport TableHead from \"@material-ui/core/TableHead\";\nimport TableRow from \"@material-ui/core/TableRow\";\n\nconst ShowMessages = (props) => {\n  const context = useContext(Context);\n\n  const [messages, setMessages] = useState([]);\n\n  useEffect(() => {\n    const username = context.dbProfileState[0].username;\n    axios\n      .get(\"/api/get/usermessages\", { params: { username: username } })\n      .then((res) => setMessages([...res.data]))\n      .catch(function (error) {\n        console.log(error);\n      });\n  }, []); //eslint-disable-line\n\n  const RenderMessages = (props) => (\n    <TableRow>\n      <TableCell>\n        <p>\n          {\" \"}\n          <strong>From: </strong> {props.message.message_sender}{\" \"}\n        </p>\n        <p>\n          {\" \"}\n          <strong>Title </strong> {props.message.message_title}{\" \"}\n        </p>\n        <p>\n          <strong> Message:</strong> {props.message.message_body}{\" \"}\n        </p>\n        <small> {props.message.date_created} </small>\n        <br />\n        <Link to={{ pathname: \"/replytomessage\", state: { props } }}>\n          <button>Reply</button>\n        </Link>\n        <button onClick={() => DeleteMessage(props.message.mid)}>\n          {\" \"}\n          Delete{\" \"}\n        </button>\n        <br />\n        <br />\n        <button onClick={() => history.goBack()}> Cancel </button>\n      </TableCell>\n    </TableRow>\n  );\n\n  const DeleteMessage = (mid) => {\n    axios\n      .delete(\"/api/delete/usermessage\", { data: { mid: mid } })\n      .then((res) => console.log(res))\n      .catch(function (error) {\n        console.log(error);\n      })\n      .then(() =>\n        setTimeout(function () {\n          history.replace(\"/\");\n        }, 700),\n      );\n  };\n\n  return (\n    <div>\n      <div className=\"FlexRow\">\n        <Table>\n          <TableHead>\n            <TableRow>\n              <TableCell>\n                {\" \"}\n                <strong> Messages </strong>{\" \"}\n              </TableCell>\n            </TableRow>\n          </TableHead>\n          <TableBody>\n            {messages\n              ? messages.map((message) => (\n                  <RenderMessages key={message.mid} message={message} />\n                ))\n              : null}\n          </TableBody>\n        </Table>\n      </div>\n    </div>\n  );\n};\n\nexport default ShowMessages;\n"]},"metadata":{},"sourceType":"module"}